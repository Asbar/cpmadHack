<!--
  Generated template for the Cart page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Request Orders</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-card>
    <ion-card-header>
      Order Items
    </ion-card-header>
    <ion-card-content *ngIf="cartItems==undefined">
      Your order list is empty!
    </ion-card-content>
    <ion-list no-lines>
      <ion-item *ngFor="let item of cartItems">
        <ion-avatar item-left>
          <img [src]="item.foodImage">
        </ion-avatar>
        <h2>{{item.foodName}} <b>x {{item.quantity}} hours</b></h2>
        <div>
          <p>$ <span style="text-decoration: line-through;">{{item.TempOldPrice}}</span> <span>{{item.TempNewPrice}}</span></p>
        </div>
        <div>
          <button (click)="removeCartItem(item._id)" primary large style="background-color:#488aff;color:white">
            Reject
		    </button>
          <button (click)="removeCartItem(item._id)" secondary large style="background-color:#32db64;color:white">
            Accept
		    </button>
        </div>
      </ion-item>
    </ion-list>
    <ion-card-content>
      <div>Total for this order is $ {{totalPrice}}</div>
    </ion-card-content>


  </ion-card>
  <ion-card>
    <ion-card-content>

      <button (click)="order()" [disabled]="cartItems==undefined" ion-button full>Order courses</button>
    </ion-card-content>
  </ion-card>
</ion-content>